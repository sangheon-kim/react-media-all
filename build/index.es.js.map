{"version":3,"file":"index.es.js","sources":["../src/common/index.ts","../src/common/State2.tsx","../src/index.tsx"],"sourcesContent":["export const CHANGE_DEVICE = \"CHANGE_DEVICE\";\n\nexport const initialState = {\n  device: \"\",\n};\n\nexport type State = typeof initialState;\n\nexport type Action = { type: \"CHANGE_DEVICE\"; device: string };\n\nexport const reducer = (state: State, action: Action) => {\n  switch (action.type) {\n    case CHANGE_DEVICE:\n      return {\n        ...state,\n        device: action.device,\n      };\n    default:\n      return state;\n  }\n};\n","import * as React from \"react\";\n\nimport { Action, initialState, reducer, State } from \".\";\n\nconst stateCtx = React.createContext(initialState);\nconst dispatchCtx = React.createContext((() => 0) as React.Dispatch<Action>);\n\nexport const WithProvider: React.ComponentType = ({ children }) => {\n  const [state, dispatch] = React.useReducer(reducer, initialState);\n\n  return (\n    <dispatchCtx.Provider value={dispatch}>\n      <stateCtx.Provider value={state}>{children}</stateCtx.Provider>\n    </dispatchCtx.Provider>\n  );\n};\n\nexport const useDispatch = () => {\n  return React.useContext(dispatchCtx);\n};\n\nexport const useGlobalState = <K extends keyof State>(property: K) => {\n  const state = React.useContext(stateCtx);\n  return state[property]; // only one depth selector for comparison\n};\n","import * as React from \"react\";\n\nimport { useDispatch } from \"./common/State2\";\n\ninterface Props {\n  widthObj: any;\n}\n\nconst ChangeMedia: React.FC<Props> = ({ children, widthObj }) => {\n  const { pc, tb, ph } = widthObj;\n  const withPromise = React.useCallback(\n    (width: number) => {\n      return new Promise((res) => {\n        setTimeout(() => {\n          if (width >= pc) {\n            res(\"pc\");\n          } else if (width <= pc && width >= tb) {\n            res(\"태블릿\");\n          } else if (width <= ph) {\n            res(\"모바일\");\n          }\n        }, 800);\n      });\n    },\n    [pc, ph, tb]\n  );\n\n  const dispatch = useDispatch();\n  React.useEffect(() => {\n    if (typeof window !== \"undefined\") {\n      withPromise(window.innerWidth).then((res: any) => {\n        dispatch({ type: \"CHANGE_DEVICE\", device: res });\n      });\n\n      window.addEventListener(\"resize\", () => {\n        withPromise(window.innerWidth).then((res: any) => {\n          dispatch({ type: \"CHANGE_DEVICE\", device: res });\n        });\n      });\n    }\n\n    return () => {\n      if (typeof window !== \"undefined\") {\n        window.removeEventListener(\"resize\", () => {\n          withPromise(window.innerWidth).then((res: any) => {\n            dispatch({ type: \"CHANGE_DEVICE\", device: res });\n          });\n        });\n      }\n    };\n  }, [dispatch, withPromise]);\n\n  return <React.Fragment>{children}</React.Fragment>;\n};\n\nexport default ChangeMedia;\n"],"names":["React.createContext","React.useContext","React.useCallback","React.useEffect","React.createElement","React.Fragment"],"mappings":";;AAEO,IAAM,YAAY,GAAG;IAC1B,MAAM,EAAE,EAAE;CACX;;ACAD,IAAM,QAAQ,GAAGA,aAAmB,CAAC,YAAY,CAAC,CAAC;AACnD,IAAM,WAAW,GAAGA,aAAmB,EAAE,cAAM,OAAA,CAAC,GAAA,EAA4B,CAAC;AAYtE,IAAM,WAAW,GAAG;IACzB,OAAOC,UAAgB,CAAC,WAAW,CAAC,CAAC;AACvC,CAAC;;ACXD,IAAM,WAAW,GAAoB,UAAC,EAAsB;QAApB,sBAAQ,EAAE,sBAAQ;IAChD,IAAA,gBAAE,EAAE,gBAAE,EAAE,gBAAE,CAAc;IAChC,IAAM,WAAW,GAAGC,WAAiB,CACnC,UAAC,KAAa;QACZ,OAAO,IAAI,OAAO,CAAC,UAAC,GAAG;YACrB,UAAU,CAAC;gBACT,IAAI,KAAK,IAAI,EAAE,EAAE;oBACf,GAAG,CAAC,IAAI,CAAC,CAAC;iBACX;qBAAM,IAAI,KAAK,IAAI,EAAE,IAAI,KAAK,IAAI,EAAE,EAAE;oBACrC,GAAG,CAAC,KAAK,CAAC,CAAC;iBACZ;qBAAM,IAAI,KAAK,IAAI,EAAE,EAAE;oBACtB,GAAG,CAAC,KAAK,CAAC,CAAC;iBACZ;aACF,EAAE,GAAG,CAAC,CAAC;SACT,CAAC,CAAC;KACJ,EACD,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,CACb,CAAC;IAEF,IAAM,QAAQ,GAAG,WAAW,EAAE,CAAC;IAC/BC,SAAe,CAAC;QACd,IAAI,OAAO,MAAM,KAAK,WAAW,EAAE;YACjC,WAAW,CAAC,MAAM,CAAC,UAAU,CAAC,CAAC,IAAI,CAAC,UAAC,GAAQ;gBAC3C,QAAQ,CAAC,EAAE,IAAI,EAAE,eAAe,EAAE,MAAM,EAAE,GAAG,EAAE,CAAC,CAAC;aAClD,CAAC,CAAC;YAEH,MAAM,CAAC,gBAAgB,CAAC,QAAQ,EAAE;gBAChC,WAAW,CAAC,MAAM,CAAC,UAAU,CAAC,CAAC,IAAI,CAAC,UAAC,GAAQ;oBAC3C,QAAQ,CAAC,EAAE,IAAI,EAAE,eAAe,EAAE,MAAM,EAAE,GAAG,EAAE,CAAC,CAAC;iBAClD,CAAC,CAAC;aACJ,CAAC,CAAC;SACJ;QAED,OAAO;YACL,IAAI,OAAO,MAAM,KAAK,WAAW,EAAE;gBACjC,MAAM,CAAC,mBAAmB,CAAC,QAAQ,EAAE;oBACnC,WAAW,CAAC,MAAM,CAAC,UAAU,CAAC,CAAC,IAAI,CAAC,UAAC,GAAQ;wBAC3C,QAAQ,CAAC,EAAE,IAAI,EAAE,eAAe,EAAE,MAAM,EAAE,GAAG,EAAE,CAAC,CAAC;qBAClD,CAAC,CAAC;iBACJ,CAAC,CAAC;aACJ;SACF,CAAC;KACH,EAAE,CAAC,QAAQ,EAAE,WAAW,CAAC,CAAC,CAAC;IAE5B,OAAOC,cAACC,QAAc,QAAE,QAAQ,CAAkB,CAAC;AACrD,CAAC;;;;"}